## https://vsupalov.com/docker-arg-env-variable-guide/
version: '3.4'
services:
    timer:
        build:
            context: ../timer/timer-demo
            dockerfile: prod.dockerfile
        networks:
        - main
        ports:
        - '3337:80'
        restart: unless-stopped
    api:
        build:
            context: ../weather_api/WeatherAPI
            dockerfile: dockerfile
        networks:
        - main
        ports:
         - '1971:5000'
        environment:
            ASPNETCORE_ENVIRONMENT: Docker
        depends_on:
            - timer
        restart: unless-stopped
networks:
  main:
    driver: bridge

